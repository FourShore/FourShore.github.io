(this.webpackJsonpgumw=this.webpackJsonpgumw||[]).push([[0],{103:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(10),c=a.n(l),s=(a(95),a(8)),i=a(63),o=a(138),m=a(4),u=a(77),p=a(157),d=a(159),h=a(105),g=a(79),E=a(164),f=a(160),v=a(162),b=a(158),O=a(17),_=a(18),j=a(12),y=a(20),k=a(21),w=a(11),x=a(22),C=a(143),T=a(147),D=a(146),S=a(144),I=a(145),H=a(148),N=a(142),F=function(e){function t(e){var a;return Object(_.a)(this,t),(a=Object(y.a)(this,Object(k.a)(t).call(this,e))).getOsOrders=function(){fetch("https://api.opensea.io/wyvern/v1/orders?asset_contract_address=0x0e3a2a1f2146d86a604adc220b4967a898d7fe07&limit=100&side=1").then((function(e){return e.json()})).then((function(e){var t=e.orders.map((function(e){var t=e.asset,a=t?t.image_url.replace("https://storage.opensea.io/gods-unchained-asset-images/v0_0/proto",""):"",n=a.substring(a.indexOf("/quality")+8);return n=n.replace(".png",""),a=a.substring(0,a.indexOf("/quality")),t?{proto:"".concat(a,"-").concat(n),name:t.name,tokenId:t.token_id,thumbnail:t.image_thumbnail_url,preview:t.image_preview_url,price:e.current_price/1e18,time:e.created_date,marketplace:"OpenSea"}:{}}));a.setState({osOrders:t})}))},a.getTtOrders=function(){fetch("https://gy2601wgv6.execute-api.us-east-1.amazonaws.com/dev/all-orders?tokenAddress=0x0e3a2a1f2146d86a604adc220b4967a898d7fe07",{method:"get",headers:new Headers({"x-api-key":"Np8BV2d5QR9TSFEr9EvF66FWcJf0wIxy2qBpOH6s"})}).then((function(e){return e.json()})).then((function(e){var t=e.map((function(e){var t=JSON.parse(e.metadata),a=e.token_proto.split("-"),n="https://storage.opensea.io/gods-unchained-asset-images/v0_0/proto".concat(a[0],"/quality").concat(a[1],"-thumbnail.png"),r="https://storage.opensea.io/gods-unchained-asset-images/v0_0/proto".concat(a[0],"/quality").concat(a[1],"-preview.png"),l=new Date(e.created_at);return l.setHours(l.getHours()+8),{proto:e.token_proto,name:"".concat(t.name," ID #").concat(e.token_id),tokenId:e.token_id,thumbnail:n,preview:r,price:e.takerAssetAmount/1e18,time:l,marketplace:"token-trove"}}));t.sort((function(e,t){var a=new Date(e.time);return new Date(t.time).getTime()-a.getTime()})),a.setState({ttOrders:t.splice(0,100)})}))},a.getTtFilled=function(){fetch("https://gy2601wgv6.execute-api.us-east-1.amazonaws.com/dev/historical-prices?tokenAddress=0x0e3a2a1f2146d86a604adc220b4967a898d7fe07",{method:"get",headers:new Headers({"x-api-key":"Np8BV2d5QR9TSFEr9EvF66FWcJf0wIxy2qBpOH6s"})}).then((function(e){return e.json()})).then((function(e){var t={};e.forEach((function(e){t[e.proto]=e.price/1e18})),a.setState({ttFiled:t})}))},a.state={osOrders:[],ttOrders:[],ttFiled:{}},a.getOsOrders=a.getOsOrders.bind(Object(w.a)(a)),a.getTtOrders=a.getTtOrders.bind(Object(w.a)(a)),a.getTtFilled=a.getTtFilled.bind(Object(w.a)(a)),a}return Object(x.a)(t,e),Object(j.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.getOsOrders(),this.getTtOrders(),this.timer=setInterval((function(){e.getOsOrders(),e.getTtOrders(),e.getTtFilled()}),15e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer),this.timer=null}},{key:"render",value:function(){var e=this,t=this.props.classes,a=new Date,n=[];return n.push.apply(n,Object(O.a)(this.state.osOrders)),n.push.apply(n,Object(O.a)(this.state.ttOrders)),n.sort((function(e,t){var a=new Date(e.time);return new Date(t.time).getTime()-a.getTime()})),r.a.createElement(r.a.Fragment,null,r.a.createElement(o.a,{item:!0,xs:12},r.a.createElement(g.a,{className:t.paper},n.length<=0&&r.a.createElement(N.a,null),n.length>0&&r.a.createElement(C.a,{size:"small"},r.a.createElement(S.a,null,r.a.createElement(I.a,null,r.a.createElement(D.a,null),r.a.createElement(D.a,null),r.a.createElement(D.a,null,"Name"),r.a.createElement(D.a,null,"Marketplace"),r.a.createElement(D.a,null,"Price (ETH)"),r.a.createElement(D.a,null,"Time Past"))),r.a.createElement(T.a,null,n.map((function(t,n){var l=new Date(t.time);l.setHours(l.getHours()-8);var c=a-l,s=Math.floor(c/6e4),i=Math.floor(c/1e3),o=e.state.ttFiled[t.proto]-t.price>=.1;return console.log(n,t.name,e.state.ttFiled[t.proto],t.price,o),r.a.createElement(I.a,{hover:!0,key:n},r.a.createElement(D.a,null,n),r.a.createElement(D.a,null,r.a.createElement(H.a,{variant:"square",alt:t.name,src:t.thumbnail})),r.a.createElement(D.a,null,t.name),r.a.createElement(D.a,null,t.marketplace),r.a.createElement(D.a,null,t.price),r.a.createElement(D.a,null,s>0?s+" mins":i+" secs"))})))))))}}]),t}(r.a.Component),M=Object(m.a)((function(e){return{paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary},helpIcon:{marginLeft:e.spacing(1)}}}))(F),P=function(e){function t(e){var a;return Object(_.a)(this,t),(a=Object(y.a)(this,Object(k.a)(t).call(this,e))).getSold=function(e,t){fetch("https://api.opensea.io/api/v1/events?asset_contract_address=0x0e3a2a1f2146d86a604adc220b4967a898d7fe07&event_type=successful&limit=100").then((function(e){return e.json()})).then((function(e){var t=e.asset_events.map((function(e){var t=e.asset;return t?{name:t.name,tokenId:t.token_id,thumbnail:t.image_thumbnail_url,preview:t.image_preview_url,price:e.total_price/1e18,time:e.event_timestamp,marketplace:e.relayer?e.relayer:"Immutable"}:{}}));a.setState({cards:t})}))},a.state={cards:[]},a.getSold=a.getSold.bind(Object(w.a)(a)),a}return Object(x.a)(t,e),Object(j.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.getSold(0,20),this.timer=setInterval((function(){return e.getSold(0,20)}),15e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer),this.timer=null}},{key:"render",value:function(){var e=this.props.classes,t=Date.now();return r.a.createElement(r.a.Fragment,null,r.a.createElement(o.a,{item:!0,xs:12},r.a.createElement(g.a,{className:e.paper},this.state.cards.length<=0&&r.a.createElement(N.a,null),this.state.cards.length>0&&r.a.createElement(C.a,{size:"small"},r.a.createElement(S.a,null,r.a.createElement(I.a,null,r.a.createElement(D.a,null),r.a.createElement(D.a,null,"Name"),r.a.createElement(D.a,null,"Marketplace"),r.a.createElement(D.a,null,"Price (ETH)"),r.a.createElement(D.a,null,"Time Past"))),r.a.createElement(T.a,null,this.state.cards.map((function(e,a){var n=new Date(e.time);n.setHours(n.getHours()-8);var l=t-n,c=Math.floor(l/6e4),s=Math.floor(l/1e3);return r.a.createElement(I.a,{hover:!0,key:a},r.a.createElement(D.a,null,r.a.createElement(H.a,{variant:"square",alt:e.name,src:e.thumbnail})),r.a.createElement(D.a,null,e.name),r.a.createElement(D.a,null,e.marketplace),r.a.createElement(D.a,null,e.price),r.a.createElement(D.a,null,c>0?c+" mins":s+" secs"))})))))))}}]),t}(r.a.Component),A=Object(m.a)((function(e){return{paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary},helpIcon:{marginLeft:e.spacing(1)}}}))(P),q=a(154),z=a(168),V=a(45),L=a.n(V),W=a(165),B=a(150),J=a(104),R=a(151),U=a(153),G=a(152),Q=a(166),$=function(e){function t(e){var a;return Object(_.a)(this,t),(a=Object(y.a)(this,Object(k.a)(t).call(this,e))).handleChangePage=function(e,t){a.setState({page:t})},a.state={page:0},a.handleChangePage=a.handleChangePage.bind(Object(w.a)(a)),a}return Object(x.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.open,l=t.handleClose,c=t.cards,s=new Date;return r.a.createElement(r.a.Fragment,null,r.a.createElement(W.a,{className:a.modal,open:n,onClose:function(){e.setState({page:0}),l()},closeAfterTransition:!0,BackdropComponent:B.a},r.a.createElement(J.a,{in:this.props.open},c.length>1&&r.a.createElement(R.a,{className:a.card},r.a.createElement(G.a,{className:a.media,image:c[0].preview,title:c[0].name}),r.a.createElement(U.a,null,r.a.createElement(C.a,{size:"small"},r.a.createElement(S.a,null,r.a.createElement(I.a,null,r.a.createElement(D.a,null),r.a.createElement(D.a,null,"Name"),r.a.createElement(D.a,null,"Price (ETH)"),r.a.createElement(D.a,null,"Time Past"))),r.a.createElement(T.a,null,c.slice(5*this.state.page,5*this.state.page+5).map((function(e,t){var a=new Date(e.time);a.setHours(a.getHours()-8);var n=s-a,l=Math.floor(n/6e4),c=Math.floor(n/1e3);return r.a.createElement(I.a,{hover:!0,key:t},r.a.createElement(D.a,null,r.a.createElement(H.a,{variant:"square",alt:e.name,src:e.thumbnail})),r.a.createElement(D.a,null,e.name),r.a.createElement(D.a,null,e.price),r.a.createElement(D.a,null,l>0?l+" mins":c+" secs"))})))),r.a.createElement(Q.a,{rowsPerPageOptions:[5],component:"div",count:c.length,rowsPerPage:5,page:this.state.page,onChangePage:this.handleChangePage}))))))}}]),t}(r.a.Component),K=Object(m.a)((function(e){return{card:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary,height:650},helpIcon:{marginLeft:e.spacing(1)},modal:{display:"flex",alignItems:"center",justifyContent:"center"},media:{height:250,width:180}}}))($),X=function(e){function t(e){var a;return Object(_.a)(this,t),(a=Object(y.a)(this,Object(k.a)(t).call(this,e))).handleOpen=function(e){a.setState({openDialog:!0,dialogCards:a.state.cardsMap[e]})},a.handleClose=function(){a.setState({openDialog:!1})},a.getTrending=function(){fetch("https://api.opensea.io/api/v1/events?asset_contract_address=0x0e3a2a1f2146d86a604adc220b4967a898d7fe07&event_type=successful&limit=300").then((function(e){return e.json()})).then((function(e){var t={},n=[];for(var r in e.asset_events.map((function(e){var a=e.asset;a&&(t[a.image_thumbnail_url]?t[a.image_thumbnail_url].push({name:a.name,thumbnail:a.image_thumbnail_url,preview:a.image_preview_url,price:e.total_price/1e18,time:e.event_timestamp}):t[a.image_thumbnail_url]=[{name:a.name,thumbnail:a.image_thumbnail_url,preview:a.image_preview_url,price:e.total_price/1e18,time:e.event_timestamp}])})),t){var l=t[r];n.push({name:l[0].name,thumbnail:l[0].thumbnail,count:l.length})}n.sort((function(e,t){return e.count<t.count?1:-1})),a.setState({cards:n,cardsMap:t})}))},a.state={openDialog:!1,dialogCards:[],lastTx:0,cards:[],cardsMap:{}},a.getTrending=a.getTrending.bind(Object(w.a)(a)),a.handleOpen=a.handleOpen.bind(Object(w.a)(a)),a.handleClose=a.handleClose.bind(Object(w.a)(a)),a}return Object(x.a)(t,e),Object(j.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.getTrending(),this.timer=setInterval((function(){return e.getTrending(0,20)}),15e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer),this.timer=null}},{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement(o.a,{item:!0,xs:12},r.a.createElement(g.a,{className:t.paper},r.a.createElement(q.a,null,r.a.createElement(h.a,{variant:"h6"},"Trending Now"),r.a.createElement(z.a,{className:t.helpIcon,placement:"right",title:"Shows the last 300 cards bought. Auto refreshes every 15s"},r.a.createElement(L.a,{fontSize:"small"}))),this.state.cards.length<=0&&r.a.createElement(N.a,null),this.state.cards.length>0&&r.a.createElement(C.a,{size:"small"},r.a.createElement(S.a,null,r.a.createElement(I.a,null,r.a.createElement(D.a,null),r.a.createElement(D.a,null,"Name"),r.a.createElement(D.a,null,"Volume"))),r.a.createElement(T.a,null,this.state.cards.map((function(a,n){return r.a.createElement(z.a,{key:n,className:t.helpIcon,placement:"right",title:"Click for details"},r.a.createElement(I.a,{hover:!0,onClick:function(){return e.handleOpen(a.thumbnail)}},r.a.createElement(D.a,null,r.a.createElement(H.a,{variant:"square",alt:a.name,src:a.thumbnail})),r.a.createElement(D.a,null,a.name.substr(0,a.name.indexOf("ID #")-1)),r.a.createElement(D.a,null,a.count)))})))))),r.a.createElement(K,{open:this.state.openDialog,cards:this.state.dialogCards,handleClose:this.handleClose}))}}]),t}(r.a.Component),Y=Object(m.a)((function(e){return{paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary},helpIcon:{marginLeft:e.spacing(1)},modal:{display:"flex",alignItems:"center",justifyContent:"center"}}}))(X),Z=a(68),ee=a.n(Z),te=a(76),ae=a(167),ne=a(156),re=a(163),le=function(e){function t(e){var a;return Object(_.a)(this,t),(a=Object(y.a)(this,Object(k.a)(t).call(this,e))).handleOpen=function(e){a.setState({openDialog:!0,dialogCards:a.state.cardsMap[e]})},a.handleClose=function(){a.setState({openDialog:!1})},a.getHistory=function(){var e=Object(te.a)(ee.a.mark((function e(t){var n,r,l,c,s,i,o,m;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({cards:[]}),(n=new Date).setHours(n.getHours()+8-t),r={},l=[],c=!1,s=0;case 7:if(c){e.next=17;break}return e.next=10,fetch("https://api.opensea.io/api/v1/events?asset_contract_address=0x0e3a2a1f2146d86a604adc220b4967a898d7fe07&event_type=successful&limit=100&offset="+s);case 10:return i=e.sent,e.next=13,i.json();case 13:e.sent.asset_events.forEach((function(e){var t=e.asset,a=new Date(e.event_timestamp);t&&a>n&&(r[t.image_thumbnail_url]?r[t.image_thumbnail_url].push({name:t.name,thumbnail:t.image_thumbnail_url,preview:t.image_preview_url,price:e.total_price/1e18,time:e.event_timestamp}):r[t.image_thumbnail_url]=[{name:t.name,thumbnail:t.image_thumbnail_url,preview:t.image_preview_url,price:e.total_price/1e18,time:e.event_timestamp}]),c=a<n,s++})),e.next=7;break;case 17:for(o in r)m=r[o],l.push({name:m[0].name,thumbnail:m[0].thumbnail,count:m.length});l.sort((function(e,t){return e.count<t.count?1:-1})),a.setState({cards:l,cardsMap:r});case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleChange=function(e){var t=e.target.value;a.setState({dateVal:t}),a.getHistory(t)},a.state={openDialog:!1,dialogCards:[],dateVal:1,cards:[],cardsMap:{}},a.getHistory=a.getHistory.bind(Object(w.a)(a)),a.handleChange=a.handleChange.bind(Object(w.a)(a)),a.handleOpen=a.handleOpen.bind(Object(w.a)(a)),a.handleClose=a.handleClose.bind(Object(w.a)(a)),a}return Object(x.a)(t,e),Object(j.a)(t,[{key:"componentDidMount",value:function(){this.getHistory(this.state.dateVal)}},{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement(o.a,{item:!0,xs:12},r.a.createElement(g.a,{className:t.paper},r.a.createElement(q.a,null,r.a.createElement(h.a,null,"Last"),r.a.createElement(ne.a,{className:t.formControl},r.a.createElement(re.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:this.state.dateVal,onChange:this.handleChange},r.a.createElement(ae.a,{value:1},"1 hr"),r.a.createElement(ae.a,{value:3},"3 hrs"),r.a.createElement(ae.a,{value:6},"6 hrs"),r.a.createElement(ae.a,{value:12},"12 hrs"),r.a.createElement(ae.a,{value:24},"24 hrs"))),r.a.createElement(z.a,{className:t.helpIcon,placement:"right",title:"Shows cards bought since the given time."},r.a.createElement(L.a,{fontSize:"small"}))),this.state.cards.length<=0&&r.a.createElement(N.a,null),this.state.cards.length>0&&r.a.createElement(C.a,{size:"small"},r.a.createElement(S.a,null,r.a.createElement(I.a,null,r.a.createElement(D.a,null),r.a.createElement(D.a,null,"Name"),r.a.createElement(D.a,null,"Volume"))),r.a.createElement(T.a,null,this.state.cards.map((function(a,n){return r.a.createElement(z.a,{key:n,className:t.helpIcon,placement:"right",title:"Click for details"},r.a.createElement(I.a,{hover:!0,onClick:function(){return e.handleOpen(a.thumbnail)}},r.a.createElement(D.a,null,r.a.createElement(H.a,{variant:"square",alt:a.name,src:a.thumbnail})),r.a.createElement(D.a,null,a.name.substr(0,a.name.indexOf("ID #")-1)),r.a.createElement(D.a,null,a.count)))})))))),r.a.createElement(K,{open:this.state.openDialog,cards:this.state.dialogCards,handleClose:this.handleClose}))}}]),t}(r.a.Component),ce=Object(m.a)((function(e){return{paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary},helpIcon:{marginLeft:e.spacing(1)},formControl:{margin:e.spacing(1),minWidth:120}}}))(le),se=Object(u.a)({palette:{type:"dark"}});function ie(e){var t=e.children,a=e.value,n=e.index;return r.a.createElement(r.a.Fragment,null,a===n&&r.a.createElement(v.a,null,t))}var oe=Object(m.a)((function(e){return{root:{flexGrow:1},chart:{flexGrow:1,padding:e.spacing(6)},paper:{padding:e.spacing(4)},text:{padding:e.spacing(1)}}}))((function(e){var t,a,n=e.classes,l=r.a.useState(0),c=Object(i.a)(l,2),m=c[0],u=c[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{theme:se},r.a.createElement(o.a,{container:!0,spacing:2,className:n.root},r.a.createElement(o.a,{container:!0,spacing:2,className:n.chart},r.a.createElement(o.a,{item:!0,xs:3},r.a.createElement(g.a,{className:n.paper},r.a.createElement(h.a,null,"Data polled every 15s from:"),r.a.createElement(h.a,null,r.a.createElement(b.a,(t={href:"https://tokentrove.com/",target:"_blank",rel:"noopener"},Object(s.a)(t,"rel","noreferrer"),Object(s.a)(t,"color","secondary"),t),"TokenTrove")),r.a.createElement(h.a,null,r.a.createElement(b.a,(a={href:"https://opensea.io//",target:"_blank",rel:"noopener"},Object(s.a)(a,"rel","noreferrer"),Object(s.a)(a,"color","secondary"),a),"OpenSea")))),r.a.createElement(o.a,{item:!0,xs:9},r.a.createElement(g.a,{className:n.paper},r.a.createElement(h.a,null,"Hey all! I'm planning on adding more features in the future."),r.a.createElement(h.a,null,"For feedback and suggestions use discord: FourShore#9099"),r.a.createElement(h.a,null,"If you'd like to contribute to this project you can send ETH to 0x91C20ef6477c4Ff9CfeCC48861E56c0dA1Dd37fD :)"))),r.a.createElement(o.a,{item:!0,xs:3},r.a.createElement(Y,null)),r.a.createElement(o.a,{item:!0,xs:9},r.a.createElement(d.a,{position:"static",color:"inherit"},r.a.createElement(E.a,{value:m,onChange:function(e,t){u(t)},"aria-label":"nav tabs"},r.a.createElement(f.a,{label:"Recent Listings"}),r.a.createElement(f.a,{label:"Last Sold"}),r.a.createElement(f.a,{label:"Volume History"}))),r.a.createElement(ie,{value:m,index:0},r.a.createElement(M,null)),r.a.createElement(ie,{value:m,index:1},r.a.createElement(A,null)),r.a.createElement(ie,{value:m,index:2},r.a.createElement(ce,null)))))))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(oe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},90:function(e,t,a){e.exports=a(103)},95:function(e,t,a){}},[[90,1,2]]]);
//# sourceMappingURL=main.c470cdac.chunk.js.map